$(document).on("keypress","#location_input",function(e){if(13==e.keyCode)return e.preventDefault(),!1}),app.controller("rooms_new",["$scope",function(e){e.submitbtn=!0,e.accommodates_value=1,e.city_show=!1,e.submitDisable=!1;var t,o=0;e.city_rm=function(){e.submitDisable=!1,e.city_show=!1},e.property_type=function(t,o,s){e.property_type_id=t,e.selected_property_type=o,e.property_type_icon=s,$(".fieldset_property_type_id .active-selection").css("display","block")},e.property_type_rm=function(){e.submitDisable=!1,e.property_type_id="",e.selected_property_type="",e.property_type_icon=""},e.property_change=function(t){e.property_type_id=t,e.selected_property_type=$("#property_type_dropdown option:selected").text(),e.property_type_icon=$("#property_type_dropdown option:selected").attr("data-icon-class"),$(".fieldset_property_type_id .active-selection").css("display","block")},e.room_type=function(t,o,s,c){e.room_type_id=t,e.selected_room_type=o,e.room_type_icon=s,e.is_shared=c,$(".fieldset_room_type .active-selection").css("display","block")},e.room_type_rm=function(){e.submitDisable=!1,e.room_type_id="",e.selected_room_type="",e.room_type_icon="",e.is_shared=""},e.room_change=function(t){e.room_type_id=t,e.selected_room_type=$("#room_type_dropdown option:selected").text(),e.room_type_icon=$("#room_type_dropdown option:selected").attr("data-icon-class"),e.is_shared=$("#room_type_dropdown option:selected").attr("data-is_shared"),$(".fieldset_room_type .active-selection").css("display","block")},e.change_accommodates=function(t){e.selected_accommodates=t,$(".fieldset_person_capacity .active-selection").css("display","block"),o=1},e.accommodates_rm=function(){e.submitDisable=!1,e.selected_accommodates=""},e.city_click=function(){e.submitDisable=!1,0==o&&e.change_accommodates(1)},(t=new google.maps.places.Autocomplete(document.getElementById("location_input"),{types:["geocode"]})).addListener("place_changed",c);var s={street_number:"short_name",route:"long_name",locality:"long_name",administrative_area_level_1:"long_name",country:"short_name",postal_code:"short_name"};function c(){e.city="",e.state="",e.country="";for(var o=t.getPlace(),c=0;c<o.address_components.length;c++){var r=o.address_components[c].types[0];if(s[r]){var i=o.address_components[c][s[r]];if("street_number"==r&&(e.street_number=i),"route"==r&&(e.route=i),"postal_code"==r&&(e.postal_code=i),"locality"==r&&(e.city=i),"administrative_area_level_1"==r&&(e.state=i),"country"==r){if(-1===e.country_list.indexOf(i))return $("#location_country_error_message").removeClass("hide"),!1;e.country=i,$("#location_country_error_message").addClass("hide")}}}var _=$("#location_input").val(),n=o.geometry.location.lat(),a=o.geometry.location.lng();e.address=_,e.city_show=!0,e.latitude=n,e.longitude=a,e.$apply(),$(".fieldset_city .active-selection").css("display","block")}e.disableButton=function(){$("form[name='lys_new']").submit(),e.submitDisable=!0}}]);