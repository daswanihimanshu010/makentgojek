!function(i){i.fn.textfill=function(e){function t(){s.debug&&"undefined"!=typeof console&&void 0!==console.debug&&console.debug.apply(console,arguments)}function n(i,e,n,l,s,h){function c(i,e){var t=" / ";return i>e?t=" > ":i==e&&(t=" = "),t}t("[TextFill] "+i+" { font-size: "+e.css("font-size")+",Height: "+e.height()+"px "+c(e.height(),n)+n+"px,Width: "+e.width()+c(e.width(),l)+l+",minFontPixels: "+s+"px, maxFontPixels: "+h+"px }")}function l(i,e,t,l,s,h,c,o){for(n(i,e,s,h,c,o);c<o-1;){var a=Math.floor((c+o)/2);if(e.css("font-size",a),t.call(e)<=l){if(c=a,t.call(e)==l)break}else o=a;n(i,e,s,h,c,o)}return e.css("font-size",o),t.call(e)<=l&&n(i+"* ",e,s,h,c=o,o),c}var s=i.extend({debug:!1,maxFontPixels:40,minFontPixels:4,innerTag:"span",widthOnly:!1,success:null,callback:null,fail:null,complete:null,explicitWidth:null,explicitHeight:null,changeLineHeight:!1},e);return t("[TextFill] Start Debug"),this.each(function(){var e=i(s.innerTag+":visible:first",this),n=s.explicitHeight||i(this).height(),h=s.explicitWidth||i(this).width(),c=e.css("font-size"),o=parseFloat(e.css("line-height"))/parseFloat(c);t("[TextFill] Inner text: "+e.text()),t("[TextFill] All options: ",s),t("[TextFill] Maximum sizes: { Height: "+n+"px, Width: "+h+"px }");var a=s.minFontPixels,x=0>=s.maxFontPixels?n:s.maxFontPixels,u=void 0;s.widthOnly||(u=l("Height",e,i.fn.height,n,n,h,a,x));var d=l("Width",e,i.fn.width,h,n,h,a,x);s.widthOnly?(e.css({"font-size":d,"white-space":"nowrap"}),s.changeLineHeight&&e.parent().css("line-height",o*d+"px")):(a=Math.min(u,d),e.css("font-size",a),s.changeLineHeight&&e.parent().css("line-height",o*a+"px")),t("[TextFill] Finished { Old font-size: "+c+", New font-size: "+e.css("font-size")+" }"),e.width()>h||e.height()>n&&!s.widthOnly?(e.css("font-size",c),s.fail&&s.fail(this),t("[TextFill] Failure { Current Width: "+e.width()+", Maximum Width: "+h+", Current Height: "+e.height()+", Maximum Height: "+n+" }")):s.success?s.success(this):s.callback&&(function(){"undefined"!=typeof console&&void 0!==console.warn&&console.warn.apply(console,arguments)}("callback is deprecated, use success, instead"),s.callback(this))}),s.complete&&s.complete(this),t("[TextFill] End Debug"),this}}(window.jQuery);